{"abi":[{"type":"function","name":"deposit","inputs":[],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"userBalance","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"withdrawBalance","inputs":[],"outputs":[],"stateMutability":"nonpayable"}],"bytecode":{"object":"0x608060405234801561001057600080fd5b506101c1806100206000396000f3fe6080604052600436106100345760003560e01c80630103c92b146100395780635fd8c71014610078578063d0e30db01461008f575b600080fd5b34801561004557600080fd5b50610066610054366004610134565b60006020819052908152604090205481565b60405190815260200160405180910390f35b34801561008457600080fd5b5061008d610097565b005b61008d61010e565b3360008181526020819052604080822054905190929083908381818185875af1925050503d80600081146100e7576040519150601f19603f3d011682016040523d82523d6000602084013e6100ec565b606091505b50509050806100fa57600080fd5b505033600090815260208190526040812055565b336000908152602081905260408120805434929061012d908490610164565b9091555050565b60006020828403121561014657600080fd5b81356001600160a01b038116811461015d57600080fd5b9392505050565b8082018082111561018557634e487b7160e01b600052601160045260246000fd5b9291505056fea26469706673582212204ac1e96960f4397282f6c71d7f78cc1a464a4b4b076822338fef12b6203afba264736f6c63430008140033","sourceMap":"228:529:61:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x6080604052600436106100345760003560e01c80630103c92b146100395780635fd8c71014610078578063d0e30db01461008f575b600080fd5b34801561004557600080fd5b50610066610054366004610134565b60006020819052908152604090205481565b60405190815260200160405180910390f35b34801561008457600080fd5b5061008d610097565b005b61008d61010e565b3360008181526020819052604080822054905190929083908381818185875af1925050503d80600081146100e7576040519150601f19603f3d011682016040523d82523d6000602084013e6100ec565b606091505b50509050806100fa57600080fd5b505033600090815260208190526040812055565b336000908152602081905260408120805434929061012d908490610164565b9091555050565b60006020828403121561014657600080fd5b81356001600160a01b038116811461015d57600080fd5b9392505050565b8082018082111561018557634e487b7160e01b600052601160045260246000fd5b9291505056fea26469706673582212204ac1e96960f4397282f6c71d7f78cc1a464a4b4b076822338fef12b6203afba264736f6c63430008140033","sourceMap":"228:529:61:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;258:46;;;;;;;;;;-1:-1:-1;258:46:61;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;451:25:79;;;439:2;424:18;258:46:61;;;;;;;404:351;;;;;;;;;;;;;:::i;:::-;;311:87;;;:::i;404:351::-;478:10;448:15;466:23;;;;;;;;;;;;595:35;;466:23;;478:10;466:23;;448:15;595:35;448:15;595:35;466:23;478:10;595:35;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;577:53;;;645:7;640:47;;668:8;;;640:47;-1:-1:-1;;733:10:61;747:1;721:23;;;;;;;;;;:27;404:351::o;311:87::-;367:10;355:11;:23;;;;;;;;;;:36;;382:9;;355:11;:36;;382:9;;355:36;:::i;:::-;;;;-1:-1:-1;;311:87:61:o;14:286:79:-;73:6;126:2;114:9;105:7;101:23;97:32;94:52;;;142:1;139;132:12;94:52;168:23;;-1:-1:-1;;;;;220:31:79;;210:42;;200:70;;266:1;263;256:12;200:70;289:5;14:286;-1:-1:-1;;;14:286:79:o;697:222::-;762:9;;;783:10;;;780:133;;;835:10;830:3;826:20;823:1;816:31;870:4;867:1;860:15;898:4;895:1;888:15;780:133;697:222;;;;:::o","linkReferences":{}},"methodIdentifiers":{"deposit()":"d0e30db0","userBalance(address)":"0103c92b","withdrawBalance()":"5fd8c710"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"userBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"withdrawBalance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/reentrancy/ReentrancyRead.sol\":\"ReentrancyRead\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":kontrol-cheatcodes/=lib/kontrol-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"src/reentrancy/ReentrancyRead.sol\":{\"keccak256\":\"0xeeaded654790b4c1aa6e5577f5b83469b297511dcaad4cb208528d0613c171cd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://437cb8b58fb9e9b36efe997b58f6dddfadda30ddbdeea70e8b5fbb082152b354\",\"dweb:/ipfs/QmaqYg1JdF8ihGyQ1DqkEoaEfc3rorCsgRqKP79DaKQCtL\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"payable","type":"function","name":"deposit"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"userBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"withdrawBalance"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","kontrol-cheatcodes/=lib/kontrol-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/reentrancy/ReentrancyRead.sol":"ReentrancyRead"},"libraries":{}},"sources":{"src/reentrancy/ReentrancyRead.sol":{"keccak256":"0xeeaded654790b4c1aa6e5577f5b83469b297511dcaad4cb208528d0613c171cd","urls":["bzz-raw://437cb8b58fb9e9b36efe997b58f6dddfadda30ddbdeea70e8b5fbb082152b354","dweb:/ipfs/QmaqYg1JdF8ihGyQ1DqkEoaEfc3rorCsgRqKP79DaKQCtL"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/reentrancy/ReentrancyRead.sol","id":50819,"exportedSymbols":{"ReentrancyRead":[50818]},"nodeType":"SourceUnit","src":"32:726:61","nodes":[{"id":50766,"nodeType":"PragmaDirective","src":"32:23:61","nodes":[],"literals":["solidity","0.8",".20"]},{"id":50818,"nodeType":"ContractDefinition","src":"228:529:61","nodes":[{"id":50770,"nodeType":"VariableDeclaration","src":"258:46:61","nodes":[],"constant":false,"functionSelector":"0103c92b","mutability":"mutable","name":"userBalance","nameLocation":"293:11:61","scope":50818,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":50769,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":50767,"name":"address","nodeType":"ElementaryTypeName","src":"266:7:61","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"258:27:61","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":50768,"name":"uint256","nodeType":"ElementaryTypeName","src":"277:7:61","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":50782,"nodeType":"FunctionDefinition","src":"311:87:61","nodes":[],"body":{"id":50781,"nodeType":"Block","src":"345:53:61","nodes":[],"statements":[{"expression":{"id":50779,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":50773,"name":"userBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50770,"src":"355:11:61","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":50776,"indexExpression":{"expression":{"id":50774,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"367:3:61","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":50775,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"371:6:61","memberName":"sender","nodeType":"MemberAccess","src":"367:10:61","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"355:23:61","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"expression":{"id":50777,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"382:3:61","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":50778,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"386:5:61","memberName":"value","nodeType":"MemberAccess","src":"382:9:61","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"355:36:61","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50780,"nodeType":"ExpressionStatement","src":"355:36:61"}]},"functionSelector":"d0e30db0","implemented":true,"kind":"function","modifiers":[],"name":"deposit","nameLocation":"320:7:61","parameters":{"id":50771,"nodeType":"ParameterList","parameters":[],"src":"327:2:61"},"returnParameters":{"id":50772,"nodeType":"ParameterList","parameters":[],"src":"345:0:61"},"scope":50818,"stateMutability":"payable","virtual":false,"visibility":"public"},{"id":50817,"nodeType":"FunctionDefinition","src":"404:351:61","nodes":[],"body":{"id":50816,"nodeType":"Block","src":"438:317:61","nodes":[],"statements":[{"assignments":[50786],"declarations":[{"constant":false,"id":50786,"mutability":"mutable","name":"balance","nameLocation":"456:7:61","nodeType":"VariableDeclaration","scope":50816,"src":"448:15:61","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":50785,"name":"uint256","nodeType":"ElementaryTypeName","src":"448:7:61","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":50791,"initialValue":{"baseExpression":{"id":50787,"name":"userBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50770,"src":"466:11:61","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":50790,"indexExpression":{"expression":{"id":50788,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"478:3:61","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":50789,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"482:6:61","memberName":"sender","nodeType":"MemberAccess","src":"478:10:61","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"466:23:61","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"448:41:61"},{"assignments":[50793,null],"declarations":[{"constant":false,"id":50793,"mutability":"mutable","name":"success","nameLocation":"583:7:61","nodeType":"VariableDeclaration","scope":50816,"src":"578:12:61","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":50792,"name":"bool","nodeType":"ElementaryTypeName","src":"578:4:61","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},null],"id":50801,"initialValue":{"arguments":[{"hexValue":"","id":50799,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"627:2:61","typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \"\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \"\""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \"\""}],"expression":{"expression":{"id":50794,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"595:3:61","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":50795,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"599:6:61","memberName":"sender","nodeType":"MemberAccess","src":"595:10:61","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":50796,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"606:4:61","memberName":"call","nodeType":"MemberAccess","src":"595:15:61","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":50798,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value"],"nodeType":"FunctionCallOptions","options":[{"id":50797,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50786,"src":"618:7:61","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"595:31:61","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$value","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":50800,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"595:35:61","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"577:53:61"},{"condition":{"id":50803,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"644:8:61","subExpression":{"id":50802,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50793,"src":"645:7:61","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":50808,"nodeType":"IfStatement","src":"640:47:61","trueBody":{"id":50807,"nodeType":"Block","src":"654:33:61","statements":[{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":50804,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"668:6:61","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$__$returns$__$","typeString":"function () pure"}},"id":50805,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"668:8:61","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":50806,"nodeType":"ExpressionStatement","src":"668:8:61"}]}},{"expression":{"id":50814,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":50809,"name":"userBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50770,"src":"721:11:61","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":50812,"indexExpression":{"expression":{"id":50810,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"733:3:61","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":50811,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"737:6:61","memberName":"sender","nodeType":"MemberAccess","src":"733:10:61","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"721:23:61","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":50813,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"747:1:61","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"721:27:61","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":50815,"nodeType":"ExpressionStatement","src":"721:27:61"}]},"functionSelector":"5fd8c710","implemented":true,"kind":"function","modifiers":[],"name":"withdrawBalance","nameLocation":"413:15:61","parameters":{"id":50783,"nodeType":"ParameterList","parameters":[],"src":"428:2:61"},"returnParameters":{"id":50784,"nodeType":"ParameterList","parameters":[],"src":"438:0:61"},"scope":50818,"stateMutability":"nonpayable","virtual":false,"visibility":"public"}],"abstract":false,"baseContracts":[],"canonicalName":"ReentrancyRead","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[50818],"name":"ReentrancyRead","nameLocation":"237:14:61","scope":50819,"usedErrors":[],"usedEvents":[]}],"license":"MIT"},"id":61}